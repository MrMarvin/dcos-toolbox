{
  "description": "TeraSort with EventLog on HDFS",
  "id": "tera.sort",
  "labels": {
    "location": "olympus",
    "owner": "zeus"
  },
  "run": {
    "artifacts": [
      {
        "uri": "http://hdfs.marathon.mesos:9000/v1/connection/hdfs-site.xml",
        "extract": false,
        "executable": false,
        "cache": true
      },
      {
        "uri": "http://hdfs.marathon.mesos:9000/v1/connection/core-site.xml",
        "extract": false,
        "executable": false,
        "cache": true
      },
      {
        "uri": "https://downloads.mesosphere.io/spark/test/spark-terasort-1.0-SNAPSHOT-jar-with-dependencies.jar",
        "extract": false,
        "executable": false,
        "cache": true
      }
    ],
    "cmd": "/opt/spark/dist/bin/spark-submit --master mesos://zk://zk-1.zk:2181,zk-2.zk:2181,zk-3.zk:2181,zk-4.zk:2181,zk-5.zk:2181/mesos --name TeraSort --conf spark.mesos.coarse=true --conf spark.driver.cores=1 --conf spark.driver.memory=4g --conf spark.driver.supervise=false --conf spark.executor.memory=6g --conf spark.executor.home=/opt/spark/dist --conf spark.mesos.executor.docker.image=mesosphere/spark:1.0.4-2.0.1 --conf spark.ssl.noCertVerification=true --conf spark.eventLog.enabled=true --conf spark.eventLog.dir=hdfs://hdfs/history --conf spark.mesos.uris=http://hdfs.marathon.mesos:9000/v1/connection/hdfs-site.xml,http://hdfs.marathon.mesos:9000/v1/connection/core-site.xml,https://downloads.mesosphere.io/spark/test/spark-terasort-1.0-SNAPSHOT-jar-with-dependencies.jar --class com.github.ehiggs.spark.terasort.TeraSort /mnt/mesos/sandbox/spark-terasort-1.0-SNAPSHOT-jar-with-dependencies.jar hdfs://hdfs/terasort/terasort_in hdfs://hdfs/terasort/terasort_out",
    "cpus": 1,
    "mem": 4096,
    "disk": 0,
    "docker": {
      "image": "mesosphere/spark:1.0.4-2.0.1"
    },
    "env": {
      "FOO": "bar"
    },
    "user": "nobody"
  }
}
